@reference "tailwindcss";

@layer components {
  .progress {
    --track-background: var(--background-700);
    --fill-background: var(--accent-500);

    position: relative;
    width: 100%;
    overflow: hidden;
    border-radius: var(--radius-full);
    background-color: var(--track-background);
  }

  .progress.sm {
    height: 0.25rem;
  }

  .progress.md {
    height: 0.5rem;
  }

  .progress.lg {
    height: 0.75rem;
  }

  .fill {
    height: 100%;
    border-radius: var(--radius-full);
    background-color: var(--fill-background);
    transition: width 300ms var(--ease-snappy-pop);
  }

  .fill.default {
    --fill-background: var(--accent-500);
  }

  .fill.success {
    --fill-background: var(--success-500);
  }

  .fill.warning {
    --fill-background: var(--warning-500);
  }

  .fill.error {
    --fill-background: var(--danger-500);
  }

  .fill.animated {
    animation: pulse 2s var(--ease-gentle-ease) infinite;
  }

  .fill.indeterminate {
    width: 33.333%;
    animation: progress-indeterminate 1.5s var(--ease-gentle-ease) infinite;
  }

  .wrapper {
    width: 100%;
  }

  .wrapper.hasLabel {
    @apply space-y-1;
  }

  .labelRow {
    @apply flex items-center justify-between;
    font-size: var(--text-sm);
    color: var(--foreground-400);
  }

  .label {
    user-select: none;
  }

  .value {
    font-variant-numeric: tabular-nums;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  @keyframes progress-indeterminate {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(400%);
    }
  }
}
