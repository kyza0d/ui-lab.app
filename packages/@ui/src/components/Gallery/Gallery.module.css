@reference "tailwindcss";

@layer components {
  .gallery {
    --gap: var(--gallery-gap, 1rem);
  }

  .gallery[data-layout="grid"] {
    --columns: var(--gallery-columns, 3);
    --rows: var(--gallery-rows);

    display: grid;
    grid-template-columns: repeat(var(--columns), minmax(0, 1fr));
    grid-template-rows: var(--rows, none);
    gap: var(--gap);
  }

  .gallery[data-layout="masonry"] {
    --column-width: var(--gallery-column-width, 280px);
    width: 100%;
    column-width: var(--column-width);
    column-gap: var(--gap);
  }
      
  .gallery[data-layout="masonry"] .item {
    break-inside: avoid;
    margin-bottom: var(--gap);
  }

  @media (min-width: 640px) {
    .gallery[data-layout="grid"] {
      --columns: var(--gallery-columns-sm, var(--gallery-columns, 3));
      --rows: var(--gallery-rows-sm, var(--gallery-rows));
    }
  }

  @media (min-width: 768px) {
    .gallery[data-layout="grid"] {
      --columns: var(--gallery-columns-md, var(--gallery-columns-sm, var(--gallery-columns, 3)));
      --rows: var(--gallery-rows-md, var(--gallery-rows-sm, var(--gallery-rows)));
    }
  }

  @media (min-width: 1024px) {
    .gallery[data-layout="grid"] {
      --columns: var(--gallery-columns-lg, var(--gallery-columns-md, var(--gallery-columns-sm, var(--gallery-columns, 3))));
      --rows: var(--gallery-rows-lg, var(--gallery-rows-md, var(--gallery-rows-sm, var(--gallery-rows))));
    }
  }

  @media (min-width: 1280px) {
    .gallery[data-layout="grid"] {
      --columns: var(--gallery-columns-xl, var(--gallery-columns-lg, var(--gallery-columns-md, var(--gallery-columns-sm, var(--gallery-columns, 3)))));
      --rows: var(--gallery-rows-xl, var(--gallery-rows-lg, var(--gallery-rows-md, var(--gallery-rows-sm, var(--gallery-rows)))));
    }
  }

  .item {
    --background: var(--background-950);
    --border: var(--background-700);
    --border-hover: var(--background-600);
    --border-focus: var(--accent-500);

    display: flex;
    flex-direction: column;
    background: var(--background);
    border: var(--border-width-base) solid var(--border);
    border-radius: var(--radius-sm);
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    cursor: pointer;
  }

  .item:focus {
    outline: none;
  }

  .item[data-focus-visible] {
    outline: 2px solid var(--border-focus);
    outline-offset: 2px;
  }

  .item[data-hovered] {
    border-color: var(--border-hover);
  }

  .item[data-pressed] {
    border-color: var(--border-focus);
  }

  .item[data-orientation="horizontal"] {
    flex-direction: row;
  }

  .item[data-orientation="horizontal"] .view {
    width: var(--gallery-horizontal-view-width, 200px);
  }

  .view {
    --aspect-ratio: var(--gallery-aspect-ratio, 16/9);
    --background: var(--background-950);

    position: relative;
    aspect-ratio: var(--aspect-ratio);
    background: var(--background);
    overflow: hidden;
  }

  .view > img,
  .view > video {
      width: 100%;
      height: 100%;
    object-fit: cover;
  }

  .body {
      display: flex;
      flex-direction: column;
    gap: 0.25rem;
    padding: 0.75rem;
    align-self: flex-start;
  }

  .body > :first-child {
    font-weight: 500;
    color: var(--foreground-50);
  }

  .body > :not(:first-child) {
    font-size: var(--text-sm);
    color: var(--foreground-300);
  }
}
